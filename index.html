<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rmin | Portfolio</title>

  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#000;
      --text:#eaeaea;
      --card:rgba(20,20,25,0.65);
      --accent:#2ee6d6;
    }
    body.light{
      --bg:#f4f4f4;
      --text:#111;
      --card:rgba(255,255,255,0.75);
      --accent:#0077ff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:Vazirmatn, Inter, sans-serif;
      overflow-x:hidden;
    }

    canvas{
      position:fixed;
      inset:0;
      z-index:-1;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:14px 20px;
    }

    header strong{font-size:18px}

    header .actions{display:flex;gap:10px}

    header button{
      width:42px;height:42px;
      border-radius:10px;
      border:1px solid var(--accent);
      background:none;
      color:var(--accent);
      cursor:pointer;
      font-size:18px;
    }

    main{max-width:900px;margin:auto;padding:40px 20px}

    .card{
      background:var(--card);
      backdrop-filter:blur(6px);
      border-radius:18px;
      padding:30px;
      margin-bottom:30px;
    }

    .avatar{
      width:110px;height:110px;
      border-radius:50%;
      border:3px solid var(--accent);
      margin-bottom:20px;
      background:#222 url('profile.jpg') center/cover;
    }

    h1{
      margin:0 0 10px 0;
      font-size:32px;
      position:relative;
    }

    h1.glitch::after{
      content:attr(data-text);
      position:absolute;left:2px;top:0;
      color:#ff3cac;
      opacity:.6;
      animation:glitch .6s infinite alternate-reverse;
    }

    @keyframes glitch{
      0%{clip-path:inset(0 0 90% 0)}
      50%{clip-path:inset(40% 0 40% 0)}
      100%{clip-path:inset(90% 0 0 0)}
    }

    .tabs{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}
    .tabs button{
      border:1px solid var(--accent);
      background:none;color:var(--accent);
      padding:8px 14px;border-radius:10px;cursor:pointer
    }
    .tabs button.active{background:var(--accent);color:#000}

    section{display:none}
    section.active{display:block}

    footer{text-align:center;padding:20px;opacity:.6}

    @media(max-width:600px){h1{font-size:26px}}
  </style>
</head>
<body>

<canvas id="bg"></canvas>

<header>
  <strong>Rmin</strong>
  <div class="actions">
    <button id="langBtn">üåê</button>
    <button id="themeBtn">üåô</button>
  </div>
</header>

<main>
  <div class="card">
    <div class="avatar"></div>
    <h1 id="name" data-text="Rmin" data-fa="ÿ≥ŸÑÿßŸÖÿå ŸÖŸÜ ÿ±ŸÖ€åŸÜ Ÿáÿ≥ÿ™ŸÖ" data-en="Hi, I'm Rmin"></h1>
    <p data-fa="ÿ®ÿ±ŸÜÿßŸÖŸá‚ÄåŸÜŸà€åÿ≥ Ÿàÿ® Ÿà Ÿæÿß€åÿ™ŸàŸÜ. ÿØÿ± ÿ≠ÿßŸÑ ÿ≥ÿßÿÆÿ™ŸÜ Ÿà €åÿßÿØ⁄Ø€åÿ±€å." data-en="Web & Python developer. Learning by building."></p>
  </div>

  <div class="card">
    <div class="tabs">
      <button class="tab active" data-target="home" data-fa="ÿÆÿßŸÜŸá" data-en="Home"></button>
      <button class="tab" data-target="projects" data-fa="Ÿæÿ±Ÿà⁄òŸá‚ÄåŸáÿß" data-en="Projects"></button>
      <button class="tab" data-target="contact" data-fa="ÿ™ŸÖÿßÿ≥" data-en="Contact"></button>
    </div>

    <section id="home" class="active">
      <p data-fa="ÿß€åŸÜ ÿµŸÅÿ≠Ÿá ŸÖÿπÿ±ŸÅ€å ÿ¥ÿÆÿµ€å ŸÖŸÜ ÿßÿ≥ÿ™." data-en="This is my personal page."></p>
    </section>

    <section id="projects">
      <p data-fa="Ÿæÿ±Ÿà⁄òŸá‚ÄåŸáÿß ÿ®Ÿá‚Äåÿ≤ŸàÿØ€å ÿßÿ∂ÿßŸÅŸá ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ." data-en="Projects will be added soon."></p>
    </section>

    <section id="contact">
      <p>Email: example@email.com</p>
    </section>
  </div>
</main>

<footer>¬© 2025</footer>

<script>
/* tabs */
document.querySelectorAll('.tab').forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'))
    document.querySelectorAll('section').forEach(s=>s.classList.remove('active'))
    btn.classList.add('active')
    document.getElementById(btn.dataset.target).classList.add('active')
  }
})

/* language */
const texts=document.querySelectorAll('[data-fa]')
let lang=localStorage.getItem('lang')||'fa'
function setLang(l){
  texts.forEach(el=>el.textContent=el.dataset[l])
  document.body.dir=l==='fa'?'rtl':'ltr'
  document.documentElement.lang=l
  localStorage.setItem('lang',l)
}
document.getElementById('langBtn').onclick=()=>{
  lang=lang==='fa'?'en':'fa'
  setLang(lang)
}
setLang(lang)

/* theme */
document.getElementById('themeBtn').onclick=()=>{
  document.body.classList.toggle('light')
}

/* glitch trigger */
const name=document.getElementById('name')
setInterval(()=>{
  name.classList.add('glitch')
  setTimeout(()=>name.classList.remove('glitch'),200)
},4000)

/* pixel background */
const canvas=document.getElementById('bg')
const ctx=canvas.getContext('2d')
let speedFactor=1

function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
window.addEventListener('resize',resize);resize()

const colors=['#2ee6d6','#ff3cac','#8affff','#b388ff']
let pixels=[]
const COUNT=innerWidth<600?80:160

for(let i=0;i<COUNT;i++){
  pixels.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    w:Math.random()*20+4,
    h:Math.random()*4+2,
    a:Math.random()*0.7+0.2,
    s:Math.random()*0.6+0.2,
    c:colors[Math.floor(Math.random()*colors.length)],
    r:Math.random()>0.6
  })
}

let running=true
document.addEventListener('visibilitychange',()=>{
  running=!document.hidden
})

window.addEventListener('scroll',()=>{
  speedFactor=0.2
  clearTimeout(window._st)
  window._st=setTimeout(()=>speedFactor=1,150)
})

function draw(){
  if(!running){requestAnimationFrame(draw);return}
  ctx.clearRect(0,0,canvas.width,canvas.height)
  for(const p of pixels){
    ctx.fillStyle=p.c
    ctx.globalAlpha=p.a
    if(p.r){
      ctx.beginPath()
      ctx.arc(p.x,p.y,p.h*1.2,0,Math.PI*2)
      ctx.fill()
    }else{
      ctx.fillRect(p.x,p.y,p.w,p.h)
    }
    p.x-=p.s*speedFactor
    p.y+=p.s*speedFactor
    if(p.y>canvas.height||p.x<0){
      p.y=-20
      p.x=canvas.width+Math.random()*200
    }
  }
  ctx.globalAlpha=1
  requestAnimationFrame(draw)
}

draw()
</script>

</body>
</html>
